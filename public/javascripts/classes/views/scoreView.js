// Generated by CoffeeScript 1.7.1
(function() {
  App.ScoreView = Ember.View.extend({
    templateName: "score",
    init: function() {
      this._super();
      return this.set("finalScore", App.MainController.game.score);
    },
    actions: {
      post: function() {
        var self;
        self = this;
        return App.MainController.post(function(error) {
          if (!error) {
            return alert("Congrats! Your score is now posted on Facebook.");
          } else {
            alert(JSON.stringify(error) + "\n\nYOUR ARE NOT CONNECTED TO FACEBOOK.\nWAIT FOR THE APPLICATION TO RELOAD AND TRY AGAIN.");
            App.MainController.set("isLoggedIn", false);
            return self.get("controller").transitionToRoute("home");
          }
        });
      },
      goHome: function() {
        return this.get("controller").transitionToRoute("home");
      }
    }
  });

}).call(this);
